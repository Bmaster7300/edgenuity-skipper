function debounce(p,o,n){var a;return function(){var e=this,i=arguments,t=n&&!a;clearTimeout(a),a=setTimeout(function(){a=null,n||p.apply(e,i)},o),t&&p.apply(e,i)}}function reveal(){API.childWindow.$("[fstack]").each(function(e){this.style=""})}function injectoverlay(){$("head").append($('<link rel="stylesheet" type="text/css" />').attr("href","https://webmsgr.github.io/edgenuity-skipper/release/skipper.css")),$("body").append($('<div id="skipper-overlay" style="">')),$("#skipper-overlay").append($('<div id="skipper-text">edgenuity-skipper<br /></div>')),$("#skipper-text").append($("<input id='autoplay-checkbox' type='checkbox' onchange='autoplay_checkbox()'></input><label for='autoplay-checkbox'>Autoplay</label><br />")),$("#autoplay-checkbox")[0].checked=!0,$("#skipper-text").append($("<input id='intro-skip' type='checkbox' onchange='audio_skip_update(this,\"entry\")'></input><label for='intro-skip'>Skip intro audio</label>")),$("#skipper-text").append($("<input id='hint-skip' type='checkbox' onchange='audio_skip_update(this,\"hint\")'></input><label for='hint-skip'>Skip hint audio</label>")),$("#skipper-text").append($("<input id='exit-skip' type='checkbox' onchange='audio_skip_update(this,\"exit\")'></input><label for='exit-skip'>Skip exit audio</label><br />")),$("#skipper-text").append($("<button id='reveal' onclick='reveal()'>Reveal All</button><br />")),$("#skipper-text").append($("<button id='exitoverlay' onclick='overlayoff()'>Exit Overlay</button><br />")),$("body").keypress(function(e){"|"==e.key&&overlayon()})}function audio_skip_update(e,i){skipperSettings.skip[i]=e.checked}function audio_blocker(){API.Audio.playAudioInner=new Proxy(API.Audio.playAudioInner,{apply:function(e,i,t){var p=t[0].split("/").reverse()[0].split(".")[0].split("-").reverse()[0];let o=!1;console.log(p),p in skipperSettings.skip&&(o=skipperSettings.skip[p]),o?API.Audio.element.trackEnded():e.apply(i,t)}})}function autoplay_checkbox(){API.autoplay=$("#autoplay-checkbox")[0].checked}function overlayoff(){$("#skipper-overlay")[0].style=""}function overlayon(){$("#skipper-overlay")[0].style="display: block;"}function init(){null==window.edjskipper?(injectoverlay(),audio_blocker(),window.edjskipper=!0,console.log("edgenuity-skipper now active. Version 2")):console.log("already loaded. skipping")}window.API=document.querySelector("#stageFrame").contentWindow.API,window.skipperSettings={},skipperSettings.autoplay="edgenuity-skipper by wackery",skipperSettings.skip={},API.Video.videoDone=new Proxy(API.Video.videoDone,{apply:debounce(function(e,i,t){e.apply(i,t),skipperSettings.autoplay&&setTimeout(API.FrameChain.nextFrame,100)},100)}),init();
//# sourceMappingURL=https://webmsgr.github.io/edgenuity-skipper/release/skipper.min.js.map